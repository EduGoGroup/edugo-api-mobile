---
description: Transform architectural analysis into granular task plan
allowed-tools: Read, Task
argument-hint: ""
---

# Command: Sprint Planning

## Description
This command transforms the architectural analysis into a granular work plan. It reads the executive summary generated by the analysis and passes it to the planner agent to create a structured document with phases, atomic tasks, and dependencies.

## Command Responsibilities
1. **Read** the `sprint/current/analysis/readme.md` file (analysis output)
2. **Validate** that the analysis has been completed
3. **Invoke** the `planner` agent passing the content
4. **Maintain isolation** of the agent

## Execution Instructions

Please execute the following steps:

### Step 1: Validate input file
Verify that the `sprint/current/analysis/readme.md` file exists. If it doesn't exist, inform the user:
```
‚ùå Error: Sprint analysis not found

Please execute first: /01-analysis
```

### Step 2: Read analysis content
Read the complete `sprint/current/analysis/readme.md` file and keep it in context.

**Optional but recommended**: Also read the other analysis files for more context:
- `sprint/current/analysis/architecture.md`
- `sprint/current/analysis/data-model.md`
- `sprint/current/analysis/process-diagram.md`

### Step 3: Invoke planner agent
Use the Task tool with `subagent_type: "general-purpose"` to invoke the planner agent.

Pass to the agent:
- **Complete prompt**: The agent's instructions (read `.claude/agents/planner.md`)
- **Analysis context**: The content of readme.md from analysis (and optionally other documents)
- **Explicit restriction**: The agent only works with what it receives from the command

### Step 4: Confirmation message
Once the agent completes its work, inform the user:
```
‚úÖ Planning completed successfully

üìÅ File generated:
- sprint/current/planning/readme.md

üìã Plan content:
- Phases organized with checkboxes
- Atomic and granular tasks
- Dependency indicators between tasks
- Ready for modular execution

üìå Next step:
- Execute /03-execution to implement the entire plan
- Or execute /03-execution phase-1 for a specific phase
```

## Important Notes
- This command is the **bridge** between analysis and execution
- The generated plan must be granular enough to allow isolated execution of each task
- Clearly marked dependencies help make decisions about execution order
