// Code generated by mock-generator. DO NOT EDIT.

package dataset

import (
	"sync"

	"github.com/EduGoGroup/edugo-infrastructure/postgres/entities"
	"github.com/google/uuid"
)

type UsersTable struct {
	data map[uuid.UUID]*entities.User
	list []*entities.User
	mu   sync.RWMutex
}

func NewUsersTable() *UsersTable {
	return &UsersTable{
		data: make(map[uuid.UUID]*entities.User),
		list: make([]*entities.User, 0),
	}
}

func (t *UsersTable) Add(record *entities.User) {
	t.mu.Lock()
	defer t.mu.Unlock()
	t.data[record.ID] = record
	t.list = append(t.list, record)
}

func (t *UsersTable) FindByID(id uuid.UUID) *entities.User {
	t.mu.RLock()
	defer t.mu.RUnlock()
	return t.data[id]
}

func (t *UsersTable) List() []*entities.User {
	t.mu.RLock()
	defer t.mu.RUnlock()
	return t.list
}

func (t *UsersTable) Count() int {
	t.mu.RLock()
	defer t.mu.RUnlock()
	return len(t.list)
}
